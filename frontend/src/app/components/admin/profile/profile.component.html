<div class="profile-container">
  <div class="profile-header">
    <h2>Administrator Profile <span class="admin-badge">Admin</span></h2>
    <div class="action-buttons" *ngIf="!isEditing">
      <button class="edit-button" (click)="toggleEdit()">Edit Profile</button>
    </div>
  </div>

  <div class="alert success" *ngIf="successMessage">
    {{ successMessage }}
  </div>

  <div class="alert error" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <div class="profile-content">
    <!-- View Mode -->
    <div class="profile-info" *ngIf="!isEditing">
      <div class="avatar-container">
        <div class="avatar-placeholder">
          {{ profile.first_name.charAt(0) }}{{ profile.last_name.charAt(0) }}
        </div>
      </div>

      <div class="profile-details">
        <div class="info-group">
          <label>Admin ID:</label>
          <span>{{ profile.admin_id }}</span>
        </div>

        <div class="info-group">
          <label>First Name:</label>
          <span>{{ profile.first_name }}</span>
        </div>

        <div class="info-group">
          <label>Last Name:</label>
          <span>{{ profile.last_name }}</span>
        </div>

        <div class="info-group">
          <label>Email:</label>
          <span>{{ profile.email }}</span>
        </div>

        <div class="info-group">
          <label>Phone:</label>
          <span>{{ profile.phone || "Not provided" }}</span>
        </div>

        <div class="info-group">
          <label>Account Type:</label>
          <span>Administrator</span>
        </div>
      </div>
    </div>

    <!-- Edit Mode -->
    <form *ngIf="isEditing" (ngSubmit)="saveProfile()">
      <div class="form-section">
        <h3>Personal Information</h3>

        <div class="form-group">
          <label for="firstName">First Name</label>
          <input
            type="text"
            id="firstName"
            name="firstName"
            [(ngModel)]="profile.first_name"
            required
          />
        </div>

        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            id="lastName"
            name="lastName"
            [(ngModel)]="profile.last_name"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="profile.email"
            required
          />
        </div>

        <div class="form-group">
          <label for="phone">Phone</label>
          <input
            type="tel"
            id="phone"
            name="phone"
            [(ngModel)]="profile.phone"
          />
        </div>
      </div>

      <div class="form-section">
        <h3>Change Password <span class="optional">(Optional)</span></h3>

        <div class="form-group">
          <label for="currentPassword">Current Password</label>
          <input
            type="password"
            id="currentPassword"
            name="currentPassword"
            [(ngModel)]="currentPassword"
          />
        </div>

        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input
            type="password"
            id="newPassword"
            name="newPassword"
            [(ngModel)]="newPassword"
          />
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <input
            type="password"
            id="confirmPassword"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
          />
        </div>
      </div>

      <div class="form-actions">
        <button
          type="button"
          class="cancel-button"
          (click)="cancelEdit()"
          [disabled]="isSaving"
        >
          Cancel
        </button>
        <button type="submit" class="save-button" [disabled]="isSaving">
          {{ isSaving ? "Saving..." : "Save Changes" }}
        </button>
      </div>
    </form>
  </div>
</div>
